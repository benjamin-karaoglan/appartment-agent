# Anthropic API Key
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Application Secret Key (generate a secure random string)
SECRET_KEY=your-secret-key-at-least-32-characters-long

# =============================================================================
# Better Auth (Authentication via Next.js)
# =============================================================================
# Generate a random 32+ character string: openssl rand -hex 32
BETTER_AUTH_SECRET=your-better-auth-secret-at-least-32-characters

# Google OAuth (OPTIONAL â€” email/password login works without these)
# To enable "Sign in with Google":
#   1. Go to Google Cloud Console > APIs & Services > Credentials
#   2. Create an OAuth 2.0 Client ID (Web application type)
#   3. Add authorized redirect URIs:
#      - http://localhost:3000/api/auth/callback/google (local development)
#      - https://your-frontend-domain.run.app/api/auth/callback/google (production)
#   4. Set both values below. Leave empty to disable Google sign-in.
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# GCP Key
GOOGLE_CLOUD_API_KEY=your_gcp_env_key_here
GOOGLE_CLOUD_PROJECT=your_gcp_project_id_here
GOOGLE_CLOUD_LOCATION=us-central1
GEMINI_USE_VERTEXAI=true
GEMINI_IMAGE_MODEL=gemini-2.5-flash-image


# =============================================================================
# Storage Backend Configuration
# =============================================================================
# Options: 'minio' (default for local development), 'gcs' (for cloud/production)
STORAGE_BACKEND=minio

# MinIO Object Storage (used when STORAGE_BACKEND=minio)
MINIO_ENDPOINT=minio:9000
# Public endpoint used in presigned URLs for browsers (e.g. localhost:9000)
MINIO_PUBLIC_ENDPOINT=localhost:9000
MINIO_REGION=us-east-1
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_BUCKET=documents
MINIO_SECURE=false

# Google Cloud Storage (used when STORAGE_BACKEND=gcs)
# If not set, defaults to ${GOOGLE_CLOUD_PROJECT}-documents and ${GOOGLE_CLOUD_PROJECT}-photos
GCS_DOCUMENTS_BUCKET=
GCS_PHOTOS_BUCKET=

# =============================================================================
# Local Development with GCS (Recommended: Service Account Impersonation)
# =============================================================================
# For production parity, use service account impersonation instead of your
# personal Google account. This gives you the same permissions as the deployed app.
#
# One-time setup:
#   1. Grant yourself permission to impersonate the backend service account:
#      gcloud iam service-accounts add-iam-policy-binding \
#        appart-backend@YOUR_PROJECT.iam.gserviceaccount.com \
#        --member="user:YOUR_EMAIL@gmail.com" \
#        --role="roles/iam.serviceAccountTokenCreator" \
#        --project=YOUR_PROJECT
#
#   2. Login with impersonation:
#      gcloud auth application-default login \
#        --impersonate-service-account=appart-backend@YOUR_PROJECT.iam.gserviceaccount.com
#
# Then configure:
#   1. Set STORAGE_BACKEND=gcs
#   2. Set GCS_DOCUMENTS_BUCKET and GCS_PHOTOS_BUCKET
#   3. Set GEMINI_USE_VERTEXAI=true
#   4. Start with: ./dev.sh start-gcs
#
# Alternative (simpler but uses your personal permissions):
#   gcloud auth application-default login
#   ./dev.sh start-gcs
